
# VPC in eu-west-1
module "vpc_config_eu_west_1" {
  source = "./modules/vpc"

  vpc_configs = {
    "ireland" = {
      core = {
        primary        = "{{ item.CorePriCIDR[0] }}"
        secondary      = "{{ item.CoreSecCIDR[0] }}"
        subnets_per_az = { public_subnets = {{ item.CorepublicSubnetsPerAZ }}, private_subnets = {{ item.CoreprivateSubnetsPerAZ }} }
        attach_igw     = {{ item.coreIgw | lower }}
      }
      edge = {
        primary        = "{{ item.EdgePriCIDR[0] }}"
        secondary      = "{{ item.EdgeSecCIDR[0] }}"
        subnets_per_az = { public_subnets = {{ item.EdgepublicSubnetsPerAZ }}, private_subnets = {{ item.EdgeprivateSubnetsPerAZ }} }
        attach_igw     = {{ item.edgeIgw | lower }}
      }
    }
  }
  azs_per_vpc = {{ item.azsperVPC }}

  tags = {
    Environment = "dev"
    Client      = "client-x"
  }
